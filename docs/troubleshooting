# Fikse Eksponert API-n√∏kkel

## üîç Problemet
API-n√∏kkelen er eksponert p√• GitHub og m√• sikres.

## ‚úÖ L√∏sning 1: Begrens Eksisterende API-n√∏kkel (Raskest)

### I Google Cloud Console (der du er n√•):

1. **Klikk p√• "Browser key (auto created by Firebase)"**
   - Dette √•pner detaljene for API-n√∏kkelen

2. **Under "Application restrictions":**
   - Velg "HTTP referrers (web sites)"
   - Klikk "Add an item"
   - Legg til: `ikid-791bd.firebaseapp.com/*`
   - Legg til: `localhost:*`
   - Legg til: `127.0.0.1:*`

3. **Under "API restrictions":**
   - Velg "Restrict key"
   - Velg kun Firebase-tjenester:
     - Firebase Authentication API
     - Cloud Firestore API
     - Firebase Storage API
     - Firebase Cloud Messaging API (hvis du bruker det)

4. **Klikk "Save"**

Dette begrenser n√∏kkelen slik at den kun kan brukes fra dine domener og kun for Firebase-tjenester.

## ‚úÖ L√∏sning 2: Opprett Ny Web App (Anbefalt for ny n√∏kkel)

### I Firebase Console:

1. **G√• til Project Settings (‚öôÔ∏è)**
2. **Scroll ned til "Your apps"**
3. **Klikk "Add app" ‚Üí "Web"** (eller "Add another app")
4. **Gi den et navn:** "iKid Production" eller "iKid New"
5. **Klikk "Register app"**
6. **Kopier den nye API-n√∏kkelen** fra config-objektet
7. **Oppdater `src/services/firebase/config.ts`** med den nye n√∏kkelen
8. **Test at appen fungerer**
9. **Slett den gamle Web app-en** (valgfritt, men anbefalt)

## ‚úÖ L√∏sning 3: Revokere og Opprette Ny (Mest Sikker)

Hvis du vil v√¶re ekstra sikker:

1. **I Google Cloud Console ‚Üí Credentials:**
   - Klikk p√• "Browser key"
   - Klikk "Delete" (eller "Revoke")
   - Bekreft

2. **I Firebase Console:**
   - Opprett ny Web app (se L√∏sning 2)
   - Den f√•r automatisk en ny API-n√∏kkel

## üéØ Anbefaling

**Bruk L√∏sning 1 (Begrens n√∏kkelen)** - Dette er raskest og sikrer n√∏kkelen uten √• m√•tte oppdatere koden.

## ‚ö†Ô∏è Viktig

Etter at du har begrenset n√∏kkelen:
- Appen din vil fortsatt fungere
- Men n√∏kkelen kan ikke misbrukes fra andre domener
- Du kan alltid fjerne restriksjonene senere hvis n√∏dvendig

